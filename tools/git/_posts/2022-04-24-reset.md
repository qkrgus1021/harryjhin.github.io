---
title: '[Git] 커밋 취소하기'
excerpt: 'reset은 커밋을 취소하는 명령어'
---

## 개요

`git reset`은 스테이징을 취소하거나, 특정 커밋으로 되돌아갈 수 있는 명령어입니다.

이 명령어는 Github와 같은 원격 리포지토리를 대상으로 사용할 때 권장하지 않습니다.

왜냐하면 원격 리포지토리에 푸시된 커밋들이 로컬에서 없었던 일이 되고 reset된 리포지토리를 푸시하면 `reset` 전 리포지토리를 `clone`한 협업자들이 바보가 되기 때문입니다.

따라서 커밋을 취소할 때는 [`revert`]({{ site.url }}/tools/git/revert/) 명령어를 권장합니다.

## `git reset`

`reset` 명령어는 다음과 같이 사용할 수 있습니다.

- 스테이징 취소
- 최근 커밋을 하기 전 상태로 작업 트리를 되돌리기
- 최근 커밋과 스테이징을 하기 전 상태로 작업 트리를 되돌리기
- 최근 커밋과 스테이징, 파일 수정을 하기 전 상태로 작업 트리를 되돌리기

### 스테이징 취소

스테이징을 취소하려면 `git reset HEAD <파일이름>.<확장자>`를 사용합니다.

`README.md`을 수정해서 커밋하기 위해 스테이징했다고 가정했을 때, 스테이징을 취소하려면 다음과 같이 사용합니다.

```markdown
git reset HEAD README.md
```

**참고**: `HEAD`를 사용하지 않으면 스테이징 상태에 있는 모든 파일을 되돌립니다.
{: .notice--info}

### 최신 커밋 취소

가장 최신 커밋을 취소할려고 한다면 다음 명령어를 사용합니다.

```markdown
git reset HEAD^
```

**참고**: 최근 커밋에서부터 순서대로 여러 개를 취소하고 싶다면 취소하고 싶은 커밋의 수만큼 `HEAD~<취소할 커밋 수>`를 사용하면 됩니다. 예를 들어 최신 커밋 3개를 취소하고 싶다면 `git reset HEAD~3` 명령을 사용하면 됩니다.
{: .notice--info}

### 특정 커밋 취소

최신 커밋이 아닌 특정 커밋으로 되돌리고 이 후 커밋을 삭제하고자 한다면 다음 명령어를 사용합니다.

이 때 사용할 수 있는 옵션은 총 세 가지 입니다.

- `--soft`: 커밋을 하기 전 상태로 작업 트리를 되돌리기
- `--mixed`: 최근 커밋과 스테이징을 하기 전 상태로 작업 트리를 되돌리기 (기본)
- `--hard`: 최근 커밋과 스테이징, 파일 수정을 하기 전 상태로 작업 트리를 되돌리기

핵심은 **"취소할 커밋의 수정 내용을 어떻게 처리할 것이냐?"** 입니다.

`soft`와 `mixed` 옵션은 최소된 커밋의 수정 내용이 남아 있으나(스테이징 적용 여부), `hard` 옵션은 **수정 내용을 남기지 않고 전부 삭제**합니다.

따라서 `hard` 옵션을 사용하면 수정 내용이 전부 날아가기 때문에 주의가 필요하나, `reset`을 사용하는 주된 이유이기 때문에 자주 사용됩니다.

```markdown
git reset --hard <커밋 해시>
```

**참고**: 커밋 해시는 `git log` 명령어를 통해 확인할 수 있습니다.
{: .notice--info}
